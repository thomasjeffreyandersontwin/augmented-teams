---
description: Code agent behavior consistency validation
globs:
  - "**/*-rule.mdc"
  - "**/*-cmd.md"
  - "**/*-runner.py"
  - "**/behavior.json"
  - "**/.cursor/rules/**"
  - "**/.cursor/commands/**"
---

**When** behaviors are changed, deleted, updated, created 
**then** validate there are inconsistencies, overlap or inconsistent guidance,
**and**  surface potential contradictions or redundancies for review.

**Always:**
* Scan all active rules and commands for similar intent or wording.
* Flag overlaps (same purpose, different approach).
* Flag contradictions (opposite guidance for the same context).
* Flag inconsistencies (naming, tone, or scope mismatch).
* Summarize issues for human review, not automatic enforcement.
* Use OpenAI function calling for semantic analysis of behavior content.

**Never:**
* Edit, merge, or delete files automatically.
* Treat stylistic differences as inconsistencies.
* Override intentional divergence (e.g., feature-specific exceptions).
* Make changes without human review.

**Executing Commands:**
* `\behavior-consistency` — Analyze all behaviors for semantic overlap and contradictions using AI
* `\behavior-consistency <feature>` — Analyze behaviors for a specific feature
