
================================================================================
EXTRACT AND RENDER TEST
================================================================================

GIVEN: Original DrawIO file (source of truth)...
   [OK] Original DrawIO: C:\dev\augmented-teams\agile_bot\bots\story_bot\utils\story_io\acceptance\scenarios\extract_complex_has_user_issues\1_given\original.drawio

WHEN: Extract from DrawIO to JSON and Render...
Layout data saved to: C:\dev\augmented-teams\agile_bot\bots\story_bot\utils\story_io\acceptance\scenarios\extract_complex_has_user_issues\2_when\actual-extracted-layout.json
   [OK] Extracted JSON: C:\dev\augmented-teams\agile_bot\bots\story_bot\utils\story_io\acceptance\scenarios\extract_complex_has_user_issues\2_when\actual-extracted.json
   Rendering DrawIO from extracted JSON...
   [OK] Rendered DrawIO: C:\dev\augmented-teams\agile_bot\bots\story_bot\utils\story_io\acceptance\scenarios\extract_complex_has_user_issues\2_when\actual-rendered.drawio
   [SKIP] Expected JSON not found: C:\dev\augmented-teams\agile_bot\bots\story_bot\utils\story_io\acceptance\scenarios\extract_complex_has_user_issues\1_given\expected-extracted.json
   [INFO] To create expected JSON, copy actual-extracted.json to expected-extracted.json

THEN: Move extracted JSON to then directory...
   [OK] Moved extracted JSON to: C:\dev\augmented-teams\agile_bot\bots\story_bot\utils\story_io\acceptance\scenarios\extract_complex_has_user_issues\3_then\actual-extracted.json

ASSERT: Extracted JSON in then matches expected...
   [FAIL] Extracted JSON does not match expected!
   Actual:   C:\dev\augmented-teams\agile_bot\bots\story_bot\utils\story_io\acceptance\scenarios\extract_complex_has_user_issues\3_then\actual-extracted.json
   Expected: C:\dev\augmented-teams\agile_bot\bots\story_bot\utils\story_io\acceptance\scenarios\extract_complex_has_user_issues\3_then\expected.json

Rendering DrawIO from extracted JSON...
   [OK] Rendered DrawIO: C:\dev\augmented-teams\agile_bot\bots\story_bot\utils\story_io\acceptance\scenarios\extract_complex_has_user_issues\3_then\actual-rendered.drawio

================================================================================
Test completed with assertion failure (rendering still executed)
  Original DrawIO:  C:\dev\augmented-teams\agile_bot\bots\story_bot\utils\story_io\acceptance\scenarios\extract_complex_has_user_issues\1_given\original.drawio
  Extracted JSON (then): C:\dev\augmented-teams\agile_bot\bots\story_bot\utils\story_io\acceptance\scenarios\extract_complex_has_user_issues\3_then\actual-extracted.json
  Rendered DrawIO:  C:\dev\augmented-teams\agile_bot\bots\story_bot\utils\story_io\acceptance\scenarios\extract_complex_has_user_issues\3_then\actual-rendered.drawio
================================================================================
