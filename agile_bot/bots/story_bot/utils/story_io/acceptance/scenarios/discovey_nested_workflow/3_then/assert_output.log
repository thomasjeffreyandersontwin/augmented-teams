
================================================================================
THEN: Assert expected matches actual (JSON and DrawIO)
================================================================================

Checking for actual files (generated by 2_when)...
   [OK] All actual files found

1. Asserting expected synced JSON matches actual synced JSON...
   [WARN] Expected synced JSON not found: C:\dev\augmented-teams\agile_bot\bots\story_bot\utils\story_io\acceptance\scenarios\discovey_nested_workflow\3_then\expected-synched-story-graph-outline.json
   [INFO] Comparing original JSON with actual synced JSON instead...
   [OK] Original JSON matches actual synced JSON!

2. Extracting and comparing JSONs from rendered DrawIOs...
Layout data saved to: C:\dev\augmented-teams\agile_bot\bots\story_bot\utils\story_io\acceptance\scenarios\discovey_nested_workflow\2_when\temp_rendered1-layout.json
Layout data saved to: C:\dev\augmented-teams\agile_bot\bots\story_bot\utils\story_io\acceptance\scenarios\discovey_nested_workflow\2_when\temp_rendered2-layout.json
   2a. Comparing expected JSON with extracted JSON from rendered1...
   [OK] Expected JSON matches rendered1 extracted JSON!
   2b. Comparing expected JSON with extracted JSON from rendered2...
   [OK] Expected JSON matches rendered2 extracted JSON!

3. Asserting expected DrawIO matches actual renders...
   3a. Comparing expected DrawIO with actual first render...
       Expected: C:\dev\augmented-teams\agile_bot\bots\story_bot\utils\story_io\acceptance\scenarios\discovey_nested_workflow\3_then\expected-workflow.drawio
       Actual:   C:\dev\augmented-teams\agile_bot\bots\story_bot\utils\story_io\acceptance\scenarios\discovey_nested_workflow\3_then\actual-first-render.drawio
   [FAIL] Expected DrawIO differs from actual first render: 97 differences found
   3b. Comparing expected DrawIO with actual second render...
       Expected: C:\dev\augmented-teams\agile_bot\bots\story_bot\utils\story_io\acceptance\scenarios\discovey_nested_workflow\3_then\expected-workflow.drawio
       Actual:   C:\dev\augmented-teams\agile_bot\bots\story_bot\utils\story_io\acceptance\scenarios\discovey_nested_workflow\3_then\actual-second-render.drawio
   [FAIL] Expected DrawIO differs from actual second render: 97 differences found

================================================================================
[FAIL] Some assertions failed!
================================================================================
