{
  "description": "Define fixtures in the test file, not in separate conftest.py. Use pytest fixtures for shared setup. Truly reusable fixtures (file operations, location helpers) belong in agents/base/src/conftest.py.",
  "examples": [
    {
      "do": {
        "description": "Fixtures in test file",
        "content": [
          "# In test_agent_configuration.py",
          "import pytest",
          "",
          "@pytest.fixture",
          "def workspace_root(tmp_path):",
          "    \"\"\"Fixture: Temporary workspace directory.\"\"\"",
          "    workspace = tmp_path / \"workspace\"",
          "    workspace.mkdir()",
          "    return workspace",
          "",
          "@pytest.fixture",
          "def config_file(workspace_root):",
          "    \"\"\"Fixture: Agent configuration file.\"\"\"",
          "    config_path = workspace_root / \"agents\" / \"base\" / \"agent.json\"",
          "    config_path.parent.mkdir(parents=True, exist_ok=True)",
          "    config_path.write_text('{\"name\": \"story_bot\"}')",
          "    return config_path",
          "",
          "class TestAgentConfiguration:",
          "    def test_agent_loads_config(self, workspace_root, config_file):",
          "        \"\"\"Test uses fixtures defined in same file.\"\"\"",
          "        agent = Agent('story_bot', workspace_root)",
          "        agent.load_config(config_file)",
          "        assert agent.is_initialized"
        ]
      },
      "dont": {
        "description": "Separate conftest.py for agent-specific fixtures",
        "content": [
          "# DON'T: Create src/conftest.py for agent-specific fixtures",
          "# Use test file instead, or agents/base/src/conftest.py for reusable ones"
        ]
      }
    }
  ]
}
