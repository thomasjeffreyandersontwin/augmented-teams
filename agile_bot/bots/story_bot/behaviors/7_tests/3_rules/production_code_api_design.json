{
  "description": "PRODUCTION CODE RULE: Object-oriented API design principles from BDD. Objects initialize automatically, manage their own state (ask don't tell), use properties over methods when appropriate, and provide simple direct verb names. From BDD Rules 11.1-11.4.",
  "examples": [
    {
      "do": {
        "description": "Automatic initialization in constructor",
        "content": [
          "# Production Code - Automatic initialization",
          "class Agent:",
          "    def __init__(self, agent_name: str, workspace_root: Path):",
          "        \"\"\"Initialize agent with all dependencies automatically.\"\"\"",
          "        self.name = agent_name",
          "        self.workspace_root = workspace_root",
          "        # Automatic initialization - no manual steps required",
          "        self._config = self._load_config()  # Automatic",
          "        self._dependencies = self._initialize_dependencies()  # Automatic",
          "        self._initialized = True  # Ready immediately",
          "    ",
          "    def _load_config(self) -> dict:",
          "        \"\"\"Load configuration automatically.\"\"\"",
          "        config_path = self.workspace_root / 'agents' / self.name / 'config.json'",
          "        return json.loads(config_path.read_text())",
          "",
          "# Test is simple - object ready immediately",
          "def test_agent_ready_immediately_after_construction(self, workspace_root):",
          "    # When: Agent created",
          "    agent = Agent('story_bot', workspace_root)",
          "    ",
          "    # Then: Fully initialized and ready to use",
          "    assert agent.is_initialized",
          "    assert agent.config is not None",
          "    # No manual initialization steps required!"
        ]
      },
      "dont": {
        "description": "Manual initialization required after construction",
        "content": [
          "# DON'T: Require manual initialization",
          "class Agent:",
          "    def __init__(self, agent_name: str):",
          "        self.name = agent_name",
          "        self._config = None  # ❌ Not initialized",
          "        self._initialized = False  # ❌ Not ready",
          "    ",
          "    def load_config(self):  # ❌ Manual step",
          "        \"\"\"User must remember to call this!\"\"\"",
          "        self._config = ...",
          "    ",
          "    def initialize(self):  # ❌ Another manual step",
          "        \"\"\"User must remember to call this too!\"\"\"",
          "        self._initialized = True",
          "",
          "# Test must remember manual steps",
          "def test_agent(self, workspace_root):",
          "    agent = Agent('story_bot')",
          "    agent.load_config()  # ❌ Manual step",
          "    agent.initialize()  # ❌ Another manual step",
          "    # User must remember sequence - error-prone!"
        ]
      }
    },
    {
      "do": {
        "description": "Ask don't tell - objects manage their own state",
        "content": [
          "# Production Code - Object manages state",
          "class StoryGenerator:",
          "    def __init__(self, agent_name: str, workspace: Path):",
          "        self.agent_name = agent_name",
          "        self.workspace = workspace",
          "        self._phase = None",
          "        self._assumptions = None",
          "    ",
          "    # Set internal state",
          "    def start(self, phase: str):",
          "        \"\"\"Start generation in specified phase.\"\"\"",
          "        self._phase = phase",
          "    ",
          "    def set_assumptions(self, assumptions: dict):",
          "        \"\"\"Set assumptions for generation.\"\"\"",
          "        self._assumptions = assumptions",
          "    ",
          "    # Use internal state (no parameters needed)",
          "    def build_instructions(self) -> str:",
          "        \"\"\"Build instructions using internal state.\"\"\"",
          "        return f\"Phase: {self._phase}, Assumptions: {self._assumptions}\"",
          "    ",
          "    @property",
          "    def is_ready(self) -> bool:",
          "        \"\"\"Check if ready to generate.\"\"\"",
          "        return self._phase is not None and self._assumptions is not None",
          "",
          "# Test - object orchestrates its own state",
          "def test_generator_uses_internal_state(self):",
          "    generator = StoryGenerator('bot', Path('/tmp'))",
          "    ",
          "    # Set state on object",
          "    generator.start('shape')",
          "    generator.set_assumptions({'key': 'value'})",
          "    ",
          "    # Methods use internal state",
          "    instructions = generator.build_instructions()",
          "    assert 'shape' in instructions",
          "    assert generator.is_ready"
        ]
      },
      "dont": {
        "description": "Tell don't ask - pass state as parameters",
        "content": [
          "# DON'T: Require state passed as parameters",
          "class StoryGenerator:",
          "    def __init__(self, agent_name: str, workspace: Path):",
          "        self.agent_name = agent_name",
          "        self.workspace = workspace",
          "    ",
          "    # ❌ WRONG: Requires external state management",
          "    def build_instructions(self, phase: str, assumptions: dict) -> str:",
          "        \"\"\"External caller must manage state!\"\"\"",
          "        return f\"Phase: {phase}, Assumptions: {assumptions}\"",
          "",
          "# Test must manage state externally",
          "def test_generator(self):",
          "    generator = StoryGenerator('bot', Path('/tmp'))",
          "    ",
          "    # ❌ Caller manages state, not object",
          "    phase = 'shape'",
          "    assumptions = {'key': 'value'}",
          "    instructions = generator.build_instructions(phase, assumptions)",
          "    # Object doesn't manage its own state!"
        ]
      }
    },
    {
      "do": {
        "description": "Properties for state access, methods for actions",
        "content": [
          "# Production Code - Properties vs Methods",
          "class Agent:",
          "    def __init__(self, name: str, workspace: Path):",
          "        self.name = name",
          "        self.workspace = workspace",
          "        self._initialized = False",
          "        self._config = None",
          "    ",
          "    # Properties for STATE ACCESS",
          "    @property",
          "    def is_initialized(self) -> bool:",
          "        \"\"\"Check if agent is initialized.\"\"\"",
          "        return self._initialized",
          "    ",
          "    @property",
          "    def config_path(self) -> Path:",
          "        \"\"\"Get configuration file path.\"\"\"",
          "        return self.workspace / 'config.json'",
          "    ",
          "    @property",
          "    def config(self) -> dict:",
          "        \"\"\"Get current configuration.\"\"\"",
          "        return self._config",
          "    ",
          "    # Methods for ACTIONS",
          "    def initialize(self):",
          "        \"\"\"Initialize agent (action).\"\"\"",
          "        self._config = self._load_config()",
          "        self._initialized = True",
          "    ",
          "    def save(self):",
          "        \"\"\"Save agent state (action).\"\"\"",
          "        self.config_path.write_text(json.dumps(self._config))",
          "",
          "# Test uses properties for state, methods for actions",
          "def test_agent_api(self):",
          "    agent = Agent('bot', Path('/tmp'))",
          "    ",
          "    # Properties for state (no parentheses)",
          "    assert not agent.is_initialized",
          "    assert agent.config_path.exists()",
          "    ",
          "    # Methods for actions (with parentheses)",
          "    agent.initialize()",
          "    agent.save()"
        ]
      },
      "dont": {
        "description": "Methods for simple state access",
        "content": [
          "# DON'T: Methods for state access",
          "class Agent:",
          "    # ❌ WRONG: Methods for simple state",
          "    def get_is_initialized(self) -> bool:",
          "        return self._initialized",
          "    ",
          "    def get_config_path(self) -> Path:",
          "        return self.workspace / 'config.json'",
          "    ",
          "    def get_config(self) -> dict:",
          "        return self._config",
          "",
          "# Test has verbose method calls",
          "def test_agent(self):",
          "    agent = Agent('bot', Path('/tmp'))",
          "    ",
          "    # ❌ Verbose method calls for state",
          "    assert not agent.get_is_initialized()",
          "    assert agent.get_config_path().exists()",
          "    # Use properties instead!"
        ]
      }
    },
    {
      "do": {
        "description": "Simple direct verb names for methods",
        "content": [
          "# Production Code - Simple verb names",
          "class Agent:",
          "    def build(self) -> str:",
          "        \"\"\"Build instructions.\"\"\"",
          "        return self._generate_instructions()",
          "    ",
          "    def save(self):",
          "        \"\"\"Save agent state.\"\"\"",
          "        self._write_to_disk()",
          "    ",
          "    def validate(self) -> bool:",
          "        \"\"\"Validate configuration.\"\"\"",
          "        return self._check_config()",
          "    ",
          "    def transform(self, data: dict) -> dict:",
          "        \"\"\"Transform data.\"\"\"",
          "        return self._apply_transformations(data)",
          "",
          "# Simple, clear verbs: build, save, validate, transform",
          "# Easy to remember and use",
          "",
          "# Test uses simple verb names",
          "def test_agent_operations(self):",
          "    agent = Agent('bot', Path('/tmp'))",
          "    ",
          "    instructions = agent.build()",
          "    agent.save()",
          "    is_valid = agent.validate()",
          "    data = agent.transform({'key': 'value'})"
        ]
      },
      "dont": {
        "description": "Verbose or overly descriptive method names",
        "content": [
          "# DON'T: Verbose method names",
          "class Agent:",
          "    # ❌ WRONG: Overly verbose",
          "    def buildCompleteInstructionsWithAllOptions(self) -> str:",
          "        return self._generate_instructions()",
          "    ",
          "    def saveAgentStateToFileSystem(self):",
          "        self._write_to_disk()",
          "    ",
          "    def validateConfigurationAgainstSchema(self) -> bool:",
          "        return self._check_config()",
          "    ",
          "    def transformInputDataToOutputFormat(self, data: dict) -> dict:",
          "        return self._apply_transformations(data)",
          "",
          "# Test has verbose method calls",
          "def test_agent(self):",
          "    agent = Agent('bot', Path('/tmp'))",
          "    ",
          "    # ❌ Too verbose and complex",
          "    instructions = agent.buildCompleteInstructionsWithAllOptions()",
          "    agent.saveAgentStateToFileSystem()",
          "    # Simple verbs (build, save) are better!"
        ]
      }
    }
  ],
  "scanner": "agile_bot.bots.base_bot.src.scanners.real_implementations_scanner.RealImplementationsScanner"
}
