{
  "behaviorName": "shape",
  "description": "Create a story map and domain model outline that captures the user's journey through epics, features, and stories, and captures domain model concepts and requirements",
  "goal": "Shape both story map and domain model together from user context - capture domain concepts, responsibilities, and requirements alongside story structure",
  "inputs": "User context, interviews, vision documents, existing requirements, business DOmain Experts interviews",
  "outputs": "story-graph.json, story-map.md, story-map-outline.drawio, story-map.txt, domain_outline.md, domain_graph.json, domain-model-description.md",
  "baseActionsPath": "agile_bot/bots/base_bot/base_actions",
  "instructions": [
    "**BEHAVIOR WORKFLOW INSTRUCTIONS:**",
    "",
    "Perform each instruction action as specified in base_actions, tweaked for the shape behavior. This workflow captures BOTH story map AND domain model together.",
    "",
    "**Action Sequence:**",
    "1. Initialize Project - Follow agile_bot/bots/base_bot/base_actions/1_initialize_project/instructions.json, shape: story map and domain model creation setup",
    "2. Gather Context - Follow agile_bot/bots/base_bot/base_actions/2_gather_context/instructions.json, agile_bot/bots/story_bot/behaviors/1_shape/guardrails/required_context/instructions.json",
    "   - Gather context for both story mapping and domain modeling",
    "3. Decide Planning Criteria - Follow agile_bot/bots/base_bot/base_actions/3_decide_planning_criteria/instructions.json, agile_bot/bots/story_bot/behaviors/1_shape/guardrails/planning/instructions.json",
    "   - Include domain modeling planning criteria alongside story mapping criteria",
    "4. Build Knowledge - Follow agile_bot/bots/base_bot/base_actions/4_build_knowledge/instructions.json, shape: build story map structure AND domain model",
    "   - Follow agile_bot/bots/story_bot/behaviors/1_shape/2_content/1_knowledge_graph/instructions.json",
    "   - Apply story shaping rules (context: 'when shaping stories') for story structure",
    "   - Apply domain shaping rules (context: 'when shaping the domain') for domain model structure",
    "5. Render Output - Follow agile_bot/bots/base_bot/base_actions/5_render_output/instructions.json, shape: render story map documents AND domain model documents",
    "6. Validate Rules - Follow agile_bot/bots/base_bot/base_actions/7_validate_rules/instructions.json, shape: validate hierarchy, story structure, AND domain model",
    "   - Apply story shaping rules (context: 'when shaping stories') for story structure",
    "   - Apply domain shaping rules (context: 'when shaping the domain') for domain model validation",
    "7. Correct Bot - Follow agile_bot/bots/base_bot/base_actions/6_correct_bot/instructions.json, shape: correct story map structure AND domain model",
    "",
    "**Workflow Control:**",
    "- **STOP for human feedback** when told to stop or when action requires user input",
    "- **CONTINUE to next action** when told to proceed",
    "- **STOP when complete** when all actions are finished"
  ]
}
