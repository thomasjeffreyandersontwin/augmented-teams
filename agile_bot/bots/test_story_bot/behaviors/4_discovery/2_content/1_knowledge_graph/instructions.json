{
  "behaviorName": "discovery",
  "instructions": [
    "**CRITICAL: Story Graph Structure - Main Epics Section is Single Source of Truth**",
    "",
    "**Two-Section Architecture:**",
    "",
    "1. **Main 'epics' Section (Single Source of Truth)**",
    "   - Location: story-graph.json → 'epics' array (top-level)",
    "   - Contains ALL story details: name, users, sequential_order, story_type, connector, story_groups, etc.",
    "   - This is the PRIMARY location - all story details must be here",
    "   - Used as the source for all views (outline, increments, discovery, exploration)",
    "   - Structure: epics → sub_epics → story_groups → stories (with full details)",
    "",
    "2. **'increments' Section (Minimal Reference View)**",
    "   - Location: story-graph.json → 'increments' array → increment → epics → sub_epics → stories",
    "   - This is a MINIMAL REFERENCE VIEW - just enough to know which stories belong to which increment",
    "   - Stories in increments should ONLY contain: name, users (optional), sequential_order",
    "   - NO story details (no story_type, no connector, no story_groups, no domain_concepts, etc.)",
    "   - Increments are a COPY of the outline view at the story level - just for mapping stories to increments",
    "   - All story details come from the main epics section",
    "",
    "**When Adding/Expanding Stories:**",
    "",
    "1. **Add to Main Epics Section FIRST**",
    "   - Add full story details to main epics → sub_epics → story_groups → stories",
    "   - Include all fields: name, users, sequential_order, story_type, connector, etc.",
    "",
    "2. **Then Add Minimal Reference to Increments Section**",
    "   - Add ONLY: name, users (if needed for rendering), sequential_order",
    "   - Do NOT duplicate story details (story_type, connector, etc.)",
    "   - Reference back to main epics section for all details",
    "",
    "**Example:**",
    "   Main epics section:",
    "   ```json",
    "   {",
    "     \"name\": \"Group Minions Into Mob\",",
    "     \"sequential_order\": 2,",
    "     \"connector\": \"and\",",
    "     \"users\": [\"Game Master\"],",
    "     \"story_type\": \"user\"",
    "   }",
    "   ```",
    "",
    "   Increments section (minimal reference):",
    "   ```json",
    "   {",
    "     \"name\": \"Group Minions Into Mob\",",
    "     \"sequential_order\": 2,",
    "     \"users\": [\"Game Master\"]",
    "   }",
    "   ```",
    "",
    "**CRITICAL RULES:**",
    "- Stories in increments MUST exist in main epics section",
    "- Increments section is just a VIEW - it does not contain story details",
    "- When reading story details, always go to main epics section first",
    "- Increments section is only used to know which stories belong to which increment",
    "",
    "**The main epics section is the single source of truth - all story details live there, and increments just reference which stories belong where.**"
  ]
}

