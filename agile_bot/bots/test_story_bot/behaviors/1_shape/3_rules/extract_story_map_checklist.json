{
  "description": "Quick checklist for extracting story maps from code. Follow this process step-by-step.",
  "steps": [
    {
      "step": 1,
      "title": "Find Outermost Layer and Entry Points",
      "checklist": [
        "Locate CLI commands (main(), argparse, command handlers)",
        "Locate UI entry points (routes, event handlers, button clicks)",
        "Locate MCP server tool definitions (tool names, parameters)",
        "Locate API contracts (REST endpoints, GraphQL, WSDL)",
        "Locate WebSocket handlers, message queues, event listeners",
        "Locate acceptance tests (end-to-end, integration, BDD/Gherkin)",
        "Document all entry points with their parameters and return values"
      ]
    },
    {
      "step": 2,
      "title": "Analyze Operations and Domain Concepts",
      "checklist": [
        "List all operations from entry points (what can be invoked?)",
        "Identify MAJOR domain concepts (high-level entities)",
        "Identify MINOR domain concepts (supporting entities)",
        "Identify relationships between concepts",
        "Document operation names, parameters, return values",
        "Document concept names, properties, relationships"
      ]
    },
    {
      "step": 3,
      "title": "Create Epics Based on Higher-Order Goals",
      "checklist": [
        "Group operations by higher-order goals (what is user/system trying to accomplish?)",
        "Create epics from goals, not from implementation structure",
        "Each epic represents a major capability or lifecycle stage",
        "Validate: Epic name describes a goal, not a technical operation"
      ]
    },
    {
      "step": 4,
      "title": "Create Sub-Epics Based on Distinct Behaviors",
      "checklist": [
        "For each epic, identify distinct behaviors (different ways to accomplish goal)",
        "Group behaviors into sub-epics (different types, modes, contexts)",
        "Each sub-epic represents a distinct path or scenario",
        "Validate: Sub-epic name describes a behavior, not a technical mechanism"
      ]
    },
    {
      "step": 5,
      "title": "Identify Distinct Behaviors from Tests and Code Flow",
      "checklist": [
        "Trace through acceptance tests: what happens step by step?",
        "Trace through CLI commands: what's the execution flow?",
        "Trace through MCP tool calls: what's the sequence?",
        "Identify distinct behaviors at each step",
        "Document typical execution order",
        "Document error handling and alternative paths"
      ]
    },
    {
      "step": 6,
      "title": "Lay Out Story Journey from End-to-End Flow",
      "checklist": [
        "Start with entry point (how does user/system initiate?)",
        "Follow code flow through operations (what happens step by step?)",
        "Include error handling (what happens when things go wrong?)",
        "End with completion (how does it finish?)",
        "For each story, include:",
        "  - WHEN: trigger, condition, user action",
        "  - WHY: purpose, user need, system requirement",
        "  - OUTCOME: result, state change, user experience",
        "  - ACTOR: who performs the action",
        "Validate: Stories show complete journey, not isolated operations"
      ]
    },
    {
      "step": 7,
      "title": "Validate Story Map Quality",
      "checklist": [
        "Stories show user/system journey (not just list operations)",
        "Stories have context (when/why/outcome)",
        "Stories are specific (not generic like 'Add Sub-Epic')",
        "Stories represent complete accomplishments (not data access)",
        "Implementation details are steps, not stories",
        "Order follows user journey, not technical sequential_order",
        "Epics/sub-epics based on goals, not implementation structure"
      ]
    }
  ],
  "common_mistakes": [
    "Starting with internal classes instead of entry points",
    "Creating epics from class structure instead of goals",
    "Creating stories from every method call",
    "Missing context (when/why) in stories",
    "Making implementation details into stories",
    "Ordering by technical sequential_order instead of user journey",
    "Generic stories without specificity"
  ]
}




