{
  "name": "synchronize_drawio_outline_with_story_graph",
  "description": "Synchronize extracted DrawIO story graph outline with original story graph, preserving Steps from original. Detects and flags large deletions.",
  "scripts": [
    {
      "name": "extract_and_report",
      "renderer": "story_io",
      "renderer_command": "synchronize",
      "description": "Synchronize story graph outline from DrawIO and generate merge report with large deletion detection",
      "parameters": {
        "drawio_file": "{project_path}/docs/stories/story-map-outline.drawio",
        "output": "{project_path}/docs/stories/story-graph-drawio-extracted.json",
        "original": "{project_path}/docs/stories/story-io-story-graph.json",
        "type": "outline",
        "generate_report": true,
        "report": "{project_path}/docs/stories/story-graph-drawio-extracted-merge-report.json"
      }
    }
  ],
  "templates": [],
  "instructions": [
    "1. Run extract_and_report script to synchronize DrawIO story map outline and generate merge report",
    "2. Review merge report showing exact matches, fuzzy matches, new stories, removed stories, and large deletion warnings",
    "3. Pay special attention to large deletion warnings - entire epics or features missing may indicate accidental deletion",
    "4. AI waits for user instructions to proceed with merge based on report",
    "5. Merge preserves Steps from original stories where matches are found",
    "6. New stories in extracted will have empty Steps array",
    "7. User confirms merge before applying changes to story-io-story-graph.json"
  ]
}

