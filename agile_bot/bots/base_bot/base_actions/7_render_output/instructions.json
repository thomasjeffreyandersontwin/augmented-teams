{
  "actionName": "render_output",
  "instructions": [
    "**MANDATORY: Before rendering any output, you MUST load and review the project's context files:**",
    "1. Load `{project_area}/docs/stories/clarification.json` - Contains key questions and evidence (generated file)",
    "2. Load `{project_area}/docs/stories/planning.json` - Contains assumptions and decisions (generated file)",
    "3. Load `{project_area}/docs/context/input.txt` (or similar) - Original input/source material (original context)",
    "",
    "**CRITICAL: File locations:**",
    "- **Generated files:** `{project_area}/docs/stories/clarification.json`, `{project_area}/docs/stories/planning.json`",
    "- **Original input:** `{project_area}/docs/context/input.txt` and other original context files",
    "",
    "These files contain critical requirements, decisions, and context that MUST be reflected in all rendered artifacts.",
    "",
    "**CRITICAL: Load planning.json and check for the current behavior's section (e.g., 'shape', 'discovery', 'exploration', 'specification'). Reference decisions_made and assumptions_made for the current behavior, as well as any previous behaviors that affect this work.**",
    "",
    "**MANDATORY STEPS - DO THESE IN ORDER:**",
    "",
    "**STEP 1: Execute Render Configurations**",
    "All render configurations are automatically loaded and injected below. Process ALL configs - do not skip any.",
    "",
    "{{render_configs}}",
    "",
    "For each render_config above:",
    "",
    "1. follow the instructions {render_config.instructions}:",
    "2. Determine execution method from config fields:",
    "   - If 'synchronizer' field exists → Execute {render_config.synchronizer}",
    "   - If 'template' field exists → Render {render_config.template} directly",
    "",
    "3. Determine input and output files from config fields:",
    "   - Input {render_config.input}`",
    "   - Output {render_config.output}`",
    "",
    "4. Verify output file was created at the expected path",
    "",
    "**CRITICAL RULES:**",
    "- Process ALL configs in the injected render_configs - do not skip any",
    "- Priority order: synchronizer > template",
    "- Verify each output file exists after execution",
    "- If execution fails, report the error and continue with other outputs",
    "**Render Instructions:**",
    "follow overall render instructions {{render_instructions}} ",
    "",
    "**MANDATORY: PAUSE FOR HUMAN FEEDBACK**",
    "When this action is complete, AI MUST pause and wait for human feedback. When human says 'done' or confirms completion, you MUST proceed to the next step: **validate_rules** (call the validate_rules action tool)."
  ]
}
