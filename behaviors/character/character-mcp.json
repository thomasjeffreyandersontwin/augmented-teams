{
  "mcpServers": {
    "mutants-and-masterminds-character-helper": {
      "command": "python",
      "args": [
        "behaviors/character/code/character_mcp_server.py"
      ],
      "cwd": "behaviors/character/code",
      "env": {},
      "description": "Mutants and Masterminds Character Helper - Exposes character agent methods as MCP tools",
      "tools": {
        "character_sheet": {
          "description": "Load character sheet from XML or Foundry and query data by category",
          "parameters": {
            "character_name": {
              "type": "string",
              "required": true,
              "description": "Character name (e.g., 'Roach-Boy', 'Atom')"
            },
            "category": {
              "type": "string",
              "required": true,
              "enum": ["powers", "abilities", "skills", "defenses", "attacks"],
              "description": "Category to query"
            },
            "name_or_index": {
              "type": ["string", "integer"],
              "required": false,
              "description": "Optional: specific power/skill name or index to query"
            }
          }
        },
        "character_tactics": {
          "description": "Recommend optimal tactics, powers, and abilities based on foe capabilities. Can use character sheet data, foe description, or attacker/target character sheets.",
          "parameters": {
            "character_name": {
              "type": "string",
              "required": false,
              "description": "Character name whose sheet to use for recommendations"
            },
            "attacker_character_name": {
              "type": "string",
              "required": false,
              "description": "Alternative character name parameter"
            },
            "character_sheet_data": {
              "type": "object",
              "required": false,
              "description": "Pre-loaded character sheet data (if not using character_name)"
            },
            "foe_description": {
              "type": "string",
              "required": false,
              "description": "Natural language description of foe (e.g., 'high dodge, high parry, low toughness')"
            },
            "target_character_name": {
              "type": "string",
              "required": false,
              "description": "Target character name (alternative to foe_description)"
            },
            "foe_sheet_data": {
              "type": "object",
              "required": false,
              "description": "Pre-loaded foe/target character sheet data (if not using foe_description or target_character_name)"
            },
            "_note": "At least one character source (character_name, attacker_character_name, or character_sheet_data) and one foe source (foe_description, target_character_name, or foe_sheet_data) must be provided"
          }
        },
        "character_roll_execute": {
          "description": "Execute game mechanics roll (abilities, skills, attacks) using character statistics",
          "parameters": {
            "character_name": {
              "type": "string",
              "required": true,
              "description": "Character name"
            },
            "roll_command": {
              "type": "string",
              "required": true,
              "description": "Roll command in natural language (e.g., 'roll STR check', 'roll Blast power attack')"
            },
            "episode_id": {
              "type": "string",
              "required": false,
              "description": "Optional episode ID to write roll results to"
            }
          }
        },
        "character_chat": {
          "description": "Build prompt for character chat interaction from template and character profile",
          "parameters": {
            "character_name": {
              "type": "string",
              "required": true,
              "description": "Character name"
            },
            "user_input": {
              "type": "string",
              "required": true,
              "description": "User input/message to the character"
            },
            "mode": {
              "type": "string",
              "required": false,
              "enum": ["combat", "non-combat"],
              "description": "Mode: 'combat' or 'non-combat'"
            },
            "output_type": {
              "type": "string",
              "required": false,
              "enum": ["speak", "act", "both"],
              "description": "Output type: 'speak', 'act', or 'both'"
            },
            "identity": {
              "type": "string",
              "required": false,
              "description": "Identity to use: 'costumed', 'secret', or other identity name"
            },
            "context_files": {
              "type": "array",
              "required": false,
              "items": {
                "type": "string"
              },
              "description": "Array of context file names to include"
            }
          }
        },
        "character_episodes": {
          "description": "Manage episodes - set current episode, start new episodes, summarize, update plot, and list episodes",
          "parameters": {
            "character_name": {
              "type": "string",
              "required": true,
              "description": "Character name"
            },
            "action": {
              "type": "string",
              "required": true,
              "enum": ["start", "summarize", "update-plot", "set-current", "list"],
              "description": "Action to perform: 'start' (create new episode), 'list' (list all episodes), 'set-current' (set existing episode as current), 'summarize', 'update-plot'"
            },
            "episode_title": {
              "type": "string",
              "required": false,
              "description": "Episode title (required for 'start' action)"
            },
            "episode_number": {
              "type": "string",
              "required": false,
              "description": "Episode number/ID"
            },
            "episode_filename": {
              "type": "string",
              "required": false,
              "description": "Episode filename for 'set-current' action (e.g., 'roach-boyt-loves-anticipator.md'). Use 'list' action to see available episodes."
            }
          }
        },
        "character_profile_generate": {
          "description": "Generate character profile template structure and interactively populate it",
          "parameters": {
            "character_name": {
              "type": "string",
              "required": true,
              "description": "Character name for folder and file naming"
            }
          }
        }
      }
    }
  }
}
