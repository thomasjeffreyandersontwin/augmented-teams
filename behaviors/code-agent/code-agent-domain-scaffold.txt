describe a behavior

  that is being structured
    whose components are being defined
      it should consist of one rule file
      it should have one or more command files
      it should optionally include a runner file
    
    whose naming is being validated
      it should follow feature-behavior-type pattern
      it should use mdc extension for rules
      it should use md extension for commands
      it should reject verb suffixes on rule files
    
    whose relationships are being verified
      it should reference commands from rule
      it should reference rule from command
      it should reference runner from command when automation exists

  that is being validated for structure compliance
    whose naming patterns are being checked
      it should identify files not matching pattern
      it should flag rules with verb suffixes
      it should accept optional verb suffixes on commands
    
    whose content requirements are being checked
      it should verify rule starts with When condition
      it should require Executing Commands section in rule
      it should require Steps section in commands
    
    that has specialized behaviors being handled
      it should exempt reference files from pattern matching
      it should validate base rules separately from specialized rules

  that is being repaired automatically
    that has structural issues
      it should generate missing command files
      it should scaffold standard command sections
      it should add required documentation headers
    
    that has deprecated patterns
      it should delete AI Usage sections
      it should delete Code Usage sections
      it should replace with Steps section
    
    whose repairs are being validated
      it should re-run validation on repaired files
      it should report remaining manual interventions

  that is being created from scratch
    whose files are being scaffolded
      it should create feature directory if needed
      it should generate behavior json configuration
      it should set deployment status to draft by default
    
    whose rule file is being generated
      it should include frontmatter with description
      it should scaffold When/then structure
      it should add Executing Commands placeholder
    
    whose command file is being generated
      it should scaffold Rule reference section
      it should scaffold Runner reference section
      it should scaffold Steps section with performers
    
    whose runner file is being generated
      it should include runner guard function
      it should include main entry point
      it should prevent direct execution without flag

  that is being deployed to active use
    whose deployment is being prepared
      it should discover features with deployed true flag
      it should prepare target routing destinations
      it should apply exclusion rules for documentation
    
    whose files are being synchronized
      it should route mdc files to cursor rules
      it should route md files to cursor commands
      it should exclude py files from sync
    
    whose configurations are being merged
      it should load source and destination MCP files
      it should merge with source taking precedence
      it should preserve existing configurations not in source
    
    whose watchers are being restarted
      it should detect watch functions in python files
      it should identify active watcher processes
      it should restart watchers to pick up changes

  that is being indexed for discovery
    whose behavior files are being discovered
      it should scan for deployed features only
      it should filter by extension mdc md py json
      it should exclude behavior json files
      it should exclude documentation directories
    
    whose metadata is being collected
      it should extract feature name from directory
      it should record file type from extension
      it should capture modification timestamp
    
    whose index structure is being assembled
      it should create entry properties for each file
      it should group entries by feature
      it should calculate total behavior count
    
    whose indexes are being updated
      it should write global index to cursor directory
      it should update local feature indexes
      it should maintain human readable JSON format

  that is being analyzed for consistency
    whose behaviors are being discovered for analysis
      it should locate features with deployed status
      it should collect rule and command files
      it should exclude draft and experimental behaviors
    
    whose semantic analysis is being performed
      it should load behavior content for comparison
      it should invoke OpenAI function calling with schema
      it should receive structured results from AI
    
    whose overlaps are being identified
      it should detect similar purpose with different approach
      it should record similarity description
      it should suggest consolidation or clarification
    
    whose contradictions are being identified
      it should detect opposite guidance in same context
      it should record contradiction context
      it should recommend resolution approach
    
    whose consistency report is being generated
      it should format results from analysis schema
      it should organize by analysis types
      it should surface issues for human review

  that has specialized behaviors
    whose hierarchical pattern is being validated
      it should check for isSpecialized flag in configuration
      it should identify base rule file
      it should identify specialized rule files
      it should identify reference files
    
    whose base rule is being validated
      it should verify common framework-agnostic guidance
      it should check for Executing Commands references
    
    whose specialized rules are being validated
      it should verify framework-specific extensions
      it should verify reference to base rule
      it should ensure no contradictions with base
    
    whose pattern consistency is being checked
      it should verify DRY principles maintained
      it should ensure base rule contains common guidance
      it should ensure specialized rules extend without duplication

describe a feature
  that groups related behaviors
    it should be marked by behavior json file
    it should contain outline describing purpose
    it should have deployed flag controlling activation
  
  that is being discovered by configuration
    it should be found via behavior json scanning
    it should be filtered by deployed status
    it should provide metadata for consuming processes

describe configuration discovery
  that identifies deployed features
    it should scan for behavior json files
    it should parse JSON configuration
    it should extract deployed flag and feature name
    it should return structured list to other processes

===================================================================================================
VERIFICATION CHECKLIST
===================================================================================================

Read Aloud Test:
✓ "describe a behavior that is being validated for structure compliance when checking naming patterns it should identify files not matching pattern"
✓ "describe a behavior that is being deployed to active use whose files are being synchronized it should route mdc files to cursor rules"
✓ "describe a feature that groups related behaviors it should be marked by behavior json file"

Natural Flow: ✓ YES - Each chain reads as natural English
Top-Level Concepts: ✓ YES - Uses "a behavior", "a feature", "configuration discovery"
Linking Words: ✓ YES - Uses "that", "whose", "when" to show relationships
Domain Alignment: ✓ YES - Maps directly to domain-map.txt structure
No Code Names: ✓ YES - Avoids class/function names
Clear Subject: ✓ YES - Subject clear in every chain
Proper Nesting: ✓ YES - General → specific progression

===================================================================================================
NEXT STEPS
===================================================================================================

After approval:
1. Run `/bdd-signature` to convert to actual test syntax
2. Add "it should..." statements become real test signatures
3. This becomes the structure for code-agent behavior tests

Current Status: DOMAIN_SCAFFOLD complete, ready for verification

